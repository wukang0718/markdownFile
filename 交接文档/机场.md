## 项目地址

> ​	svn://39.106.209.22/repository/repository/trunk/html

## 项目框架

`vue 全家桶` 加 `nodejs` 做的 `SSR`

UI框架使用 `bootstrap`

ajax 使用 `axios` 跨域请求和文件下载使用 `a标签` 直接**连接后台地址**

**注：**

- 项目使用严格的 `eslint` 校验
- 因为使用 `SSR` 所以项目中不建议使用 `v-if` 指令，会出现错误警告
- `SSR` 服务端会执行组件中的 `beforeCreate` 和 `created` 声明周期，所以不能在这两个声明周期中使用 `window` 及 `window的属性`
- 部署环境会因为操作系统不同，出现报错，需要修改 `yearinv` 成 `yearInv`
    - `src/components/body/yearInv/index.vue` 中的 `import YearInv from './yearInv' `
    - `src/router/index.js` 中的  `component: () =>  import('../components/body/yearInv/yearInv.vue')`
- 生产环境部署，使用 `pm2` 管理 `nodejs` 程序，把 `src` 文件夹 代码同步到 服务器部署位置 ，修改上面提到的两个地方，然后执行 `npm run build` 构建生产环境的代码；构建完成后，重启 `pm2` ，`pm2 restart all`。

## 文件特殊值

#### package.json

![image-20200826174926796](C:\Users\admin\AppData\Roaming\Typora\typora-user-images\image-20200826174926796.png)

 `scripts` ：

​				 `dev` 环境配置的 `BASE_URL` 是开发环境后台 ip + 端口

​				`start` 、`build:client`、`build:server` 中的 `BASE_URL` 是生产环境中的 后台 ip + 端口

#### component/body/yearInv/index.vue

![image-20200826174624161](https://raw.githubusercontent.com/wukang0718/mdImage/master/images/202008/26/174625-992473.png?token=AKCNZH42ACI7Z5ULLW2QOES7IYX3G)

`script` 标签中

​					**部署编译的时候**红框中的 `yearinv` 改成 `yearInv`，**开发环境不需要**，（因为是windows 和 linux 导致的不兼容的问题）

